(function(t){function e(e){for(var a,i,s=e[0],c=e[1],u=e[2],l=0,f=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/roadsurfer/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"192c":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("8c4f"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:container md:mx-auto"},[n("Autocomplete",{on:{"user-select":t.onSelect}}),n("div",{staticClass:"inline-flex"},[n("button",{staticClass:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l button-last-week",on:{click:function(e){return t.lastWeek()}}},[t._v(" Prev ")]),n("button",{staticClass:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r button-next-week",on:{click:function(e){return t.nextWeek()}}},[t._v(" Next ")])]),n("div",{staticClass:"grid grid-cols-1 md:grid-cols-7 p-3"},t._l(t.weekData,(function(t,e){return n("div",{key:e},[n("CalendarData",{attrs:{date:t}})],1)})),0)],1)},i=[],s=n("1da1"),c=n("5530"),u=(n("d3b7"),n("7db0"),n("b0c0"),n("96cf"),n("5a0c")),d=n.n(u),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full max-w-sm content-center"},[n("div",{staticClass:"md:flex md:items-center mb-6"},[t._m(0),n("div",{staticClass:"md:w-1/3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"border",attrs:{type:"text",name:"search",id:"search"},domProps:{value:t.searchInput},on:{input:[function(e){e.target.composing||(t.searchInput=e.target.value)},t.onInput]}})])]),n("div",{staticClass:"md:flex content-center"},[n("div",{staticClass:"md:w-1/3 user-select"},[n("ul",t._l(t.results,(function(e,a){return n("li",{key:a,staticClass:"user-select__value",domProps:{textContent:t._s(e)},on:{click:function(n){return t.onSelectInput(e)}}})})),0)])])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:w-1/3"},[n("label",{staticClass:"label-search",attrs:{for:"search"}},[t._v("Search..")])])}],p=(n("498a"),n("d81d"),n("4de4"),function(t,e){var n;return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];var i=function(){clearTimeout(n),t.apply(void 0,r)};clearTimeout(n),n=setTimeout(i,e)}}),m={name:"Autocomplete",data:function(){var t=this;return{searchInput:"",results:[],apiData:[],debouncedSearch:p((function(){return t.queryApi(t.searchInput)}),500)}},methods:{onInput:function(){this.searchInput.trim()?this.debouncedSearch():this.results=[]},queryApi:function(){var t=this;this.results=[],fetch("https://605c94c36d85de00170da8b4.mockapi.io/stations").then((function(t){return t.json()})).then((function(e){return t.results=e.filter((function(e){if(e.name.toLowerCase().indexOf(t.searchInput.toLowerCase())>-1)return e.name})).map((function(t){return t.name}))}))},onSelectInput:function(t){this.searchInput=t,this.results=[],this.$emit("user-select",t)}}},b=m,h=(n("da64"),n("2877")),v=Object(h["a"])(b,l,f,!1,null,"9d7ba2be",null),g=v.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calendar-data"},[n("div",{domProps:{textContent:t._s(t.date.formatted)}}),this.getSelectedBookings?n("div",t._l(this.getSelectedBookings,(function(e,a){return n("Booking",{key:a,attrs:{booking:e,date:t.date}})})),1):t._e()])},y=[],x=n("2f62"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return this.isBookingActive()?n("div",{class:t.bookingClass,on:{mouseover:function(e){t.isHover=!0},mouseout:function(e){t.isHover=!1}}},[n("router-link",{attrs:{to:t.routerLink},domProps:{textContent:t._s(t.booking.customerName)}})],1):t._e()},w=[],j=(n("99af"),n("e418")),D=n.n(j);d.a.extend(D.a);var C={name:"Booking",props:{booking:{type:Object,required:!0},date:{type:Object,required:!0}},data:function(){return{isHover:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(x["d"])("booking",["selected"])),{},{bookingClass:function(){return{booking__start:this.isBookingStarting,booking__end:this.isBookingEnding,"bg-gray-300":this.isHover,"bg-gray-50":!this.isHover}},routerLink:function(){return"/roadsurfer/".concat(this.selected,"/").concat(this.booking.id)},isBookingStarting:function(){var t=new Date(this.date.timestamp),e=new Date(this.booking.startDate);return t.setHours(0,0,0,0)==e.setHours(0,0,0,0)},isBookingEnding:function(){var t=new Date(this.date.timestamp),e=new Date(this.booking.endDate);return t.setHours(0,0,0,0)==e.setHours(0,0,0,0)}}),methods:{getDate:function(){return new Date(this.booking.timestamp).getDate()},isBookingActive:function(){return this.isBookingStarting||this.isBookingEnding}}},O=C,S=(n("c713"),Object(h["a"])(O,_,w,!1,null,"2fe7e96b",null)),B=S.exports,I={name:"CalendarData",components:{Booking:B},props:{date:{type:Object,required:!0}},computed:Object(c["a"])(Object(c["a"])({},Object(x["d"])("booking",["initData","selected"])),Object(x["c"])("booking",["getSelectedBookings"]))},P=I,T=(n("7ee8"),Object(h["a"])(P,k,y,!1,null,"27ad9ab4",null)),E=T.exports,M={name:"Calendar",components:{CalendarData:E,Autocomplete:g},data:function(){return{dateToSelect:d()()}},computed:Object(c["a"])(Object(c["a"])({},Object(x["d"])("booking",["initData"])),{},{weekData:function(){var t=this.dateToSelect,e=[];if(0!==t.day()){var n=t.subtract(1,"day").day();while(0!==n){var a=t.subtract(1,"day");e.push({formatted:a.format("MMM ddd D"),timestamp:1e3*a.unix()}),n--}}e.push({formatted:t.format("MMM ddd D"),timestamp:1e3*t.unix()});var r=0;while(e.length<7){var o=t.add(++r,"day");e.push({formatted:o.format("MMM ddd D"),timestamp:1e3*o.unix()})}return e}}),mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}}),e)})))()},methods:Object(c["a"])(Object(c["a"])({},Object(x["b"])("booking",["setInitData","setSelected"])),{},{init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://605c94c36d85de00170da8b4.mockapi.io/stations");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,t.setInitData(a);case 7:case"end":return e.stop()}}),e)})))()},lastWeek:function(){this.dateToSelect=this.dateToSelect.subtract(1,"week")},nextWeek:function(){this.dateToSelect=this.dateToSelect.add(1,"week")},onSelect:function(t){var e=this.initData.find((function(e){return e.name===t}));this.setSelected(e.id)}})},A=M,H=Object(h["a"])(A,o,i,!1,null,"3d9a2b7a",null),$=H.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return this.booking?n("div",{staticClass:"container mx-auto flex justify-center"},[n("div",{staticClass:"w-80 p-2 bg-gray-50"},[n("div",{staticClass:"flex justify-between py-1"},[t._v(" Name: "),n("h3",{staticClass:"text-sm",domProps:{textContent:t._s(this.booking.customerName)}})]),n("div",{staticClass:"flex justify-between py-1"},[t._v(" Starting date: "),n("div",{staticClass:"text-sm",domProps:{textContent:t._s(t.normalizeDate(this.booking.startDate))}})]),n("div",{staticClass:"flex justify-between py-1"},[t._v(" Ending date: "),n("div",{staticClass:"text-sm",domProps:{textContent:t._s(t.normalizeDate(this.booking.endDate))}})]),n("div",{staticClass:"flex justify-between py-1"},[t._v(" Duration in days: "),n("div",{staticClass:"text-sm",domProps:{textContent:t._s(t.dateDiff)}})]),n("div",{staticClass:"flex justify-between py-1"},[t._v(" Return-Station id: "),n("div",{staticClass:"text-sm",domProps:{textContent:t._s(this.booking.pickupReturnStationId)}})])])]):t._e()},R=[],q=function(t){return d()(t).format("YYYY-MM-DD")},L=function(t){var e=t.endDate,n=t.startDate;return d()(e).diff(d()(n),"day")},W={name:"BookingDetail",data:function(){return{diff:L,normalizeDate:q}},computed:Object(c["a"])(Object(c["a"])({},Object(x["c"])("booking",["getBookingByStationAndId"])),{},{booking:function(){return this.getBookingByStationAndId(this.$route.params.id)},dateDiff:function(){return L({endDate:this.booking.endDate,startDate:this.booking.startDate})}})},Y=W,z=Object(h["a"])(Y,N,R,!1,null,"9078c022",null),J=z.exports;a["a"].use(r["a"]);var F,G=[{path:"/",redirect:"/roadsurfer"},{path:"/roadsurfer",component:$},{path:"/roadsurfer/:stationId/:id",component:J}],K=new r["a"]({mode:"history",routes:G}),Q="SET_INIT_DATA",U="SET_SELECTED",V=function(t,e){var n=t.commit;n(Q,e)},X=function(t,e){var n=t.commit;n(U,e)},Z={setInitData:V,setSelected:X},tt={getSelectedBookings:function(t){var e=t.selected,n=t.initData.find((function(t){return t.id===e}));return null===n||void 0===n?void 0:n.bookings},getBookingByStationAndId:function(t,e){return function(t){var n=e.getSelectedBookings,a=null===n||void 0===n?void 0:n.find((function(e){return e.id===t}));return a}}},et=n("ade3"),nt=function(t,e){t.initData=e},at=function(t,e){t.selected=e},rt=(F={},Object(et["a"])(F,Q,nt),Object(et["a"])(F,U,at),F),ot=rt,it={selected:"",initData:[]},st={namespaced:!0,state:it,actions:Z,getters:tt,mutations:ot};a["a"].use(x["a"]);var ct=new x["a"].Store({modules:{booking:st}}),ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-link",{attrs:{to:"/roadsurfer"}},[t._v("Home")]),n("router-view")],1)},dt=[],lt=(n("9c9e"),{name:"App"}),ft=lt,pt=(n("034f"),Object(h["a"])(ft,ut,dt,!1,null,null,null)),mt=pt.exports;a["a"].config.productionTip=!1,new a["a"]({store:ct,render:function(t){return t(mt)},router:K}).$mount("#app")},"73bb":function(t,e,n){},"7c51":function(t,e,n){},"7ee8":function(t,e,n){"use strict";n("7c51")},"85ec":function(t,e,n){},"9c9e":function(t,e,n){},c713:function(t,e,n){"use strict";n("73bb")},da64:function(t,e,n){"use strict";n("192c")}});
//# sourceMappingURL=app.cd72bce9.js.map